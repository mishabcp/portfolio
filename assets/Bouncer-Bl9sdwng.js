import{a3 as E,a4 as M,N as m,a5 as R,a6 as g,a7 as q,p as D,a as p,a8 as H}from"./index-XgrrP6Ri.js";import{C as d,R as b}from"./Ranges-l2dBufUn.js";import{Bounce as w}from"./index-Cn0VL7Fx.js";import{E as I}from"./ExternalInteractorBase-CIi3zRdK.js";const O=2,l=.5,P=Math.PI*l,h=2,y=10,S=0;function x(a,e,o,t,s){const i=a.particles.quadTree.query(t,s);for(const n of i)t instanceof d?M(R(n),{position:e,mass:o**O*P,velocity:m.origin,factor:m.origin}):t instanceof b&&g(n,q(e,o))}function T(a,e,o,t){const s=document.querySelectorAll(e);s.length&&s.forEach(i=>{const n=i,c=a.retina.pixelRatio,r={x:(n.offsetLeft+n.offsetWidth*l)*c,y:(n.offsetTop+n.offsetHeight*l)*c},v=n.offsetWidth*l*c,u=y*c,B=o.type==="circle"?new d(r.x,r.y,v+u):new b(n.offsetLeft*c-u,n.offsetTop*c-u,n.offsetWidth*c+u*h,n.offsetHeight*c+u*h);t(r,v,B)})}function W(a,e,o,t){E(o,e,(s,i)=>T(a,s,i,(n,c,r)=>x(a,n,c,r,t)))}function A(a,e){const o=a.retina.pixelRatio,t=y*o,s=a.interactivity.mouse.position,i=a.retina.bounceModeDistance;!i||i<S||!s||x(a,s,i,new d(s.x,s.y,i+t),e)}const f="bounce";class V extends I{constructor(e){super(e)}clear(){}init(){const e=this.container,o=e.actualOptions.interactivity.modes.bounce;o&&(e.retina.bounceModeDistance=o.distance*e.retina.pixelRatio)}interact(){const e=this.container,o=e.actualOptions,t=o.interactivity.events,s=e.interactivity.status===D,i=t.onHover.enable,n=t.onHover.mode,c=t.onDiv;s&&i&&p(f,n)?A(this.container,r=>this.isEnabled(r)):W(this.container,c,f,r=>this.isEnabled(r))}isEnabled(e){const o=this.container,t=o.actualOptions,s=o.interactivity.mouse,i=((e==null?void 0:e.interactivity)??t.interactivity).events,n=i.onDiv;return!!s.position&&i.onHover.enable&&p(f,i.onHover.mode)||H(f,n)}loadModeOptions(e,...o){e.bounce||(e.bounce=new w);for(const t of o)e.bounce.load(t==null?void 0:t.bounce)}reset(){}}export{V as Bouncer};
